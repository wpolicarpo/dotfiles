source /opt/homebrew/share/antigen/antigen.zsh

antigen bundle chriskempson/base16-shell
antigen bundle zsh-users/zsh-syntax-highlighting
antigen bundle zsh-users/zsh-history-substring-search
antigen bundle zsh-users/zsh-autosuggestions

case `uname` in
  Darwin)
  ;;
  Linux)
  ;;
esac

antigen apply

alias g="git"
alias gti="git"
alias gut="git"
alias be="bundle exec"
alias vi="nvim"
alias vim="nvim"
alias ls="ls --color"
alias l="ls --color"
alias ll="ls -la --color"
alias mx="mise x --"
alias ..="cd .."

eval "$(/opt/homebrew/bin/brew shellenv)"
eval "$(/opt/homebrew/bin/mise activate zsh)"
eval "$(zoxide init zsh)"
eval "$(oh-my-posh init zsh --config '~/.dotfiles/zsh/omp.toml')"

zstyle ':completion:*' matcher-list 'm:{[:lower:][:upper:]-_}={[:upper:][:lower:]_-}' 'r:|=*' 'l:|=* r:|=*'
zstyle ':completion:*' special-dirs true
zstyle ':completion:*' menu select
zstyle ':completion:*' use-cache on
zstyle ':completion:*' cache-path "~/.zcompcache"

export HISTSIZE=50000        # Number of commands to keep in memory during your session
export SAVEHIST=50000        # Number of commands to save in the history file
setopt INC_APPEND_HISTORY    # Write to history file immediately, not when shell exits
setopt SHARE_HISTORY         # Share history between all sessions
setopt EXTENDED_HISTORY      # Record timestamp of command
setopt HIST_IGNORE_DUPS      # Don't record duplicate consecutive commands
setopt HIST_IGNORE_SPACE     # Don't record commands starting with space
setopt HIST_VERIFY           # Show command with history expansion before running

if [ -f ~/.zshrc.local ]; then
  source ~/.zshrc.local
fi
